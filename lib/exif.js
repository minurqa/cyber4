const _0x3aeaab=_0xf927;(function(_0x2078b2,_0x3e61c0){const _0x189df7=_0xf927,_0xb002b2=_0x2078b2();while(!![]){try{const _0x1b73cd=-parseInt(_0x189df7(0x186))/0x1+-parseInt(_0x189df7(0x174))/0x2*(-parseInt(_0x189df7(0x17d))/0x3)+-parseInt(_0x189df7(0x17e))/0x4+-parseInt(_0x189df7(0x187))/0x5+-parseInt(_0x189df7(0x183))/0x6+parseInt(_0x189df7(0x16c))/0x7+parseInt(_0x189df7(0x17f))/0x8;if(_0x1b73cd===_0x3e61c0)break;else _0xb002b2['push'](_0xb002b2['shift']());}catch(_0x8e69f){_0xb002b2['push'](_0xb002b2['shift']());}}}(_0x9be0,0xb851a));function _0x9be0(){const _0x1830ae=['length','utf-8','unlinkSync','author','00:00:00','default','test','readUIntLE','from','-loop','node-webpmux','exif','readFileSync','save','data','error','end','setFfmpegPath','-vf','toString','crypto','path','packname','7993461RplnGM','-vsync','concat','writeFileSync','@ffmpeg-installer/ffmpeg','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','randomBytes','toFormat','1534682ysVlzc','addOutputOptions','load','.webp','join','stringify','categories','-vcodec','00:00:05','3njBABU','2808100NmnobD','21314992UJNbVD','fluent-ffmpeg','Image','mimetype','8996658kxeNNl','wa.me/6285883359262','writeUIntLE','701358DdEDXz','4579210GxrnvK','.mp4','libwebp'];_0x9be0=function(){return _0x1830ae;};return _0x9be0();}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x3aeaab(0x169)),ff=require(_0x3aeaab(0x180)),ffmpegInstaller=require(_0x3aeaab(0x170)),webp=require(_0x3aeaab(0x15f)),path=require(_0x3aeaab(0x16a));ff[_0x3aeaab(0x166)](ffmpegInstaller[_0x3aeaab(0x16a)]);async function imageToWebp(_0x5db2c5){const _0x5da874=_0x3aeaab,_0x364424=path[_0x5da874(0x178)](tmpdir(),Crypto['randomBytes'](0x6)[_0x5da874(0x15c)](0x0,0x6)[_0x5da874(0x168)](0x24)+_0x5da874(0x177)),_0x3b6dd3=path[_0x5da874(0x178)](tmpdir(),Crypto[_0x5da874(0x172)](0x6)[_0x5da874(0x15c)](0x0,0x6)[_0x5da874(0x168)](0x24)+'.jpg');fs[_0x5da874(0x16f)](_0x3b6dd3,_0x5db2c5),await new Promise((_0x31b4ac,_0xfa970e)=>{const _0x457b6a=_0x5da874;ff(_0x3b6dd3)['on']('error',_0xfa970e)['on'](_0x457b6a(0x165),()=>_0x31b4ac(!![]))[_0x457b6a(0x175)]([_0x457b6a(0x17b),_0x457b6a(0x154),_0x457b6a(0x167),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])[_0x457b6a(0x173)]('webp')[_0x457b6a(0x162)](_0x364424);});const _0x5eb54f=fs[_0x5da874(0x161)](_0x364424);return fs['unlinkSync'](_0x364424),fs['unlinkSync'](_0x3b6dd3),_0x5eb54f;}async function videoToWebp(_0x30d473){const _0x37784c=_0x3aeaab,_0x3db623=path[_0x37784c(0x178)](tmpdir(),Crypto[_0x37784c(0x172)](0x6)[_0x37784c(0x15c)](0x0,0x6)[_0x37784c(0x168)](0x24)+'.webp'),_0x4ecd51=path[_0x37784c(0x178)](tmpdir(),Crypto[_0x37784c(0x172)](0x6)[_0x37784c(0x15c)](0x0,0x6)['toString'](0x24)+_0x37784c(0x188));fs[_0x37784c(0x16f)](_0x4ecd51,_0x30d473),await new Promise((_0x4ce300,_0x10eec0)=>{const _0x250c63=_0x37784c;ff(_0x4ecd51)['on'](_0x250c63(0x164),_0x10eec0)['on'](_0x250c63(0x165),()=>_0x4ce300(!![]))[_0x250c63(0x175)]([_0x250c63(0x17b),'libwebp',_0x250c63(0x167),_0x250c63(0x171),_0x250c63(0x15e),'0','-ss',_0x250c63(0x159),'-t',_0x250c63(0x17c),'-preset',_0x250c63(0x15a),'-an',_0x250c63(0x16d),'0'])[_0x250c63(0x173)]('webp')[_0x250c63(0x162)](_0x3db623);});const _0x5a38ac=fs[_0x37784c(0x161)](_0x3db623);return fs[_0x37784c(0x157)](_0x3db623),fs['unlinkSync'](_0x4ecd51),_0x5a38ac;}async function savingMedia(_0x1189d4){const _0x10f054=_0x3aeaab,_0x47363d=path[_0x10f054(0x178)](tmpdir(),Crypto[_0x10f054(0x172)](0x6)[_0x10f054(0x15c)](0x0,0x6)['toString'](0x24)+'.webp'),_0x121a89=path[_0x10f054(0x178)](tmpdir(),Crypto[_0x10f054(0x172)](0x6)[_0x10f054(0x15c)](0x0,0x6)['toString'](0x24)+_0x10f054(0x188));fs[_0x10f054(0x16f)](_0x47363d,_0x1189d4);const _0x48a526=fs['readFileSync'](_0x47363d);return fs['unlinkSync'](_0x47363d),_0x48a526;}async function writeExifImg(_0xe84e0c,_0x57e811){const _0x33c2e9=_0x3aeaab;let _0x482a44=await imageToWebp(_0xe84e0c);const _0x2a74f8=path[_0x33c2e9(0x178)](tmpdir(),Crypto['randomBytes'](0x6)[_0x33c2e9(0x15c)](0x0,0x6)[_0x33c2e9(0x168)](0x24)+_0x33c2e9(0x177)),_0x4c9d53=path[_0x33c2e9(0x178)](tmpdir(),Crypto[_0x33c2e9(0x172)](0x6)['readUIntLE'](0x0,0x6)[_0x33c2e9(0x168)](0x24)+_0x33c2e9(0x177));fs[_0x33c2e9(0x16f)](_0x2a74f8,_0x482a44);if(_0x57e811[_0x33c2e9(0x16b)]||_0x57e811['author']){const _0x16c9a9=new webp['Image'](),_0x2adbb0={'sticker-pack-id':_0x33c2e9(0x184),'sticker-pack-name':_0x57e811[_0x33c2e9(0x16b)],'sticker-pack-publisher':_0x57e811['author'],'emojis':_0x57e811['categories']?_0x57e811[_0x33c2e9(0x17a)]:['']},_0x5f3a22=Buffer[_0x33c2e9(0x15d)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1b41c6=Buffer[_0x33c2e9(0x15d)](JSON[_0x33c2e9(0x179)](_0x2adbb0),_0x33c2e9(0x156)),_0x33415f=Buffer[_0x33c2e9(0x16e)]([_0x5f3a22,_0x1b41c6]);return _0x33415f[_0x33c2e9(0x185)](_0x1b41c6[_0x33c2e9(0x155)],0xe,0x4),await _0x16c9a9[_0x33c2e9(0x176)](_0x2a74f8),fs[_0x33c2e9(0x157)](_0x2a74f8),_0x16c9a9[_0x33c2e9(0x160)]=_0x33415f,await _0x16c9a9['save'](_0x4c9d53),_0x4c9d53;}}function _0xf927(_0x4882a9,_0x431a04){const _0x9be0ef=_0x9be0();return _0xf927=function(_0xf927b5,_0x382b7a){_0xf927b5=_0xf927b5-0x154;let _0x5c29f2=_0x9be0ef[_0xf927b5];return _0x5c29f2;},_0xf927(_0x4882a9,_0x431a04);}async function writeExifVid(_0x495817,_0x59553d){const _0xaae4fd=_0x3aeaab;let _0x34866c=await videoToWebp(_0x495817);const _0x2f0dcf=path[_0xaae4fd(0x178)](tmpdir(),Crypto['randomBytes'](0x6)[_0xaae4fd(0x15c)](0x0,0x6)['toString'](0x24)+_0xaae4fd(0x177)),_0x1b8014=path[_0xaae4fd(0x178)](tmpdir(),Crypto[_0xaae4fd(0x172)](0x6)['readUIntLE'](0x0,0x6)[_0xaae4fd(0x168)](0x24)+_0xaae4fd(0x177));fs[_0xaae4fd(0x16f)](_0x2f0dcf,_0x34866c);if(_0x59553d[_0xaae4fd(0x16b)]||_0x59553d[_0xaae4fd(0x158)]){const _0x5b16a2=new webp['Image'](),_0x3b1ab5={'sticker-pack-id':'wa.me/6285883359262','sticker-pack-name':_0x59553d[_0xaae4fd(0x16b)],'sticker-pack-publisher':_0x59553d[_0xaae4fd(0x158)],'emojis':_0x59553d[_0xaae4fd(0x17a)]?_0x59553d[_0xaae4fd(0x17a)]:['']},_0x256836=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x51651a=Buffer[_0xaae4fd(0x15d)](JSON[_0xaae4fd(0x179)](_0x3b1ab5),_0xaae4fd(0x156)),_0x4339a1=Buffer[_0xaae4fd(0x16e)]([_0x256836,_0x51651a]);return _0x4339a1[_0xaae4fd(0x185)](_0x51651a[_0xaae4fd(0x155)],0xe,0x4),await _0x5b16a2[_0xaae4fd(0x176)](_0x2f0dcf),fs['unlinkSync'](_0x2f0dcf),_0x5b16a2[_0xaae4fd(0x160)]=_0x4339a1,await _0x5b16a2[_0xaae4fd(0x162)](_0x1b8014),_0x1b8014;}}async function writeExifStc(_0x1e0baa,_0x28399f){const _0x12b901=_0x3aeaab;let _0x701991=await savingMedia(_0x1e0baa);const _0xaa9390=path[_0x12b901(0x178)](tmpdir(),Crypto[_0x12b901(0x172)](0x6)[_0x12b901(0x15c)](0x0,0x6)['toString'](0x24)+'.webp'),_0x38bd34=path[_0x12b901(0x178)](tmpdir(),Crypto[_0x12b901(0x172)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x12b901(0x177));fs[_0x12b901(0x16f)](_0xaa9390,_0x701991);if(_0x28399f[_0x12b901(0x16b)]||_0x28399f[_0x12b901(0x158)]){const _0x5add84=new webp[(_0x12b901(0x181))](),_0x15d714={'sticker-pack-id':_0x12b901(0x184),'sticker-pack-name':_0x28399f[_0x12b901(0x16b)],'sticker-pack-publisher':_0x28399f[_0x12b901(0x158)],'emojis':_0x28399f[_0x12b901(0x17a)]?_0x28399f['categories']:['']},_0x3e38c4=Buffer[_0x12b901(0x15d)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x53a211=Buffer[_0x12b901(0x15d)](JSON[_0x12b901(0x179)](_0x15d714),'utf-8'),_0x26ec5a=Buffer[_0x12b901(0x16e)]([_0x3e38c4,_0x53a211]);return _0x26ec5a['writeUIntLE'](_0x53a211['length'],0xe,0x4),await _0x5add84[_0x12b901(0x176)](_0xaa9390),fs[_0x12b901(0x157)](_0xaa9390),_0x5add84[_0x12b901(0x160)]=_0x26ec5a,await _0x5add84[_0x12b901(0x162)](_0x38bd34),_0x38bd34;}}async function writeExif(_0x1d3087,_0x140c29){const _0x17bfa6=_0x3aeaab;let _0xe54837=/webp/[_0x17bfa6(0x15b)](_0x1d3087[_0x17bfa6(0x182)])?_0x1d3087[_0x17bfa6(0x163)]:/image/[_0x17bfa6(0x15b)](_0x1d3087[_0x17bfa6(0x182)])?await imageToWebp(_0x1d3087['data']):/video/['test'](_0x1d3087['mimetype'])?await videoToWebp(_0x1d3087[_0x17bfa6(0x163)]):'';const _0x3611ba=path['join'](tmpdir(),Crypto[_0x17bfa6(0x172)](0x6)[_0x17bfa6(0x15c)](0x0,0x6)[_0x17bfa6(0x168)](0x24)+'.webp'),_0x39f95f=path[_0x17bfa6(0x178)](tmpdir(),Crypto[_0x17bfa6(0x172)](0x6)[_0x17bfa6(0x15c)](0x0,0x6)[_0x17bfa6(0x168)](0x24)+_0x17bfa6(0x177));fs[_0x17bfa6(0x16f)](_0x3611ba,_0xe54837);if(_0x140c29[_0x17bfa6(0x16b)]||_0x140c29['author']){const _0x57051d=new webp[(_0x17bfa6(0x181))](),_0x4e8e38={'sticker-pack-id':_0x17bfa6(0x184),'sticker-pack-name':_0x140c29[_0x17bfa6(0x16b)],'sticker-pack-publisher':_0x140c29[_0x17bfa6(0x158)],'emojis':_0x140c29[_0x17bfa6(0x17a)]?_0x140c29['categories']:['']},_0x48aad7=Buffer[_0x17bfa6(0x15d)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2b2475=Buffer[_0x17bfa6(0x15d)](JSON[_0x17bfa6(0x179)](_0x4e8e38),_0x17bfa6(0x156)),_0x11e396=Buffer[_0x17bfa6(0x16e)]([_0x48aad7,_0x2b2475]);return _0x11e396[_0x17bfa6(0x185)](_0x2b2475[_0x17bfa6(0x155)],0xe,0x4),await _0x57051d[_0x17bfa6(0x176)](_0x3611ba),fs[_0x17bfa6(0x157)](_0x3611ba),_0x57051d[_0x17bfa6(0x160)]=_0x11e396,await _0x57051d[_0x17bfa6(0x162)](_0x39f95f),_0x39f95f;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif,'writeExifStc':writeExifStc};